(this["webpackJsonpmy-blog"]=this["webpackJsonpmy-blog"]||[]).push([[12],{132:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));n(44);var a=n(16),s=n(15),c=(n(130),n(134)),o=n(0),i=n.n(o),r=(n(132),n(77)),u=n.n(r),l=n(143),b=n(78),d=n.n(b),j=n(10),f=n.n(j),h=n(1),p=c.a.TextArea;function m(){var e=i.a.useState(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=i.a.useState(!1),r=Object(s.a)(o,2),b=r[0],j=r[1];f.a.subscribe("UserName",(function(e,t){j(t)})),f.a.subscribe("HasLogin",(function(e,t){c(t)}));var m=i.a.useState([]),g=Object(s.a)(m,2),O=g[0],v=g[1],x=i.a.useState(""),y=Object(s.a)(x,2),N=y[0],k=y[1],C=i.a.useState(""),S=Object(s.a)(C,2),w=S[0],J=S[1],T=function(e){u.a.get("http://aays.top:4000/board/search").then((function(t){v(t.data.reverse()),e()}),(function(e){console.log("\u67e5\u8be2\u5931\u8d25")}))};return i.a.useEffect((function(){u.a.get("http://aays.top:4000/board/search").then((function(e){v(e.data.reverse())}),(function(e){console.log("\u8bf7\u6c42\u6570\u636e\u5e93\u5931\u8d25",e)}))}),[]),Object(h.jsxs)("div",{className:"message",children:[Object(h.jsxs)("div",{className:"message-input",children:[Object(h.jsx)(p,{rows:5,onChange:function(e){k(e.target.value)},value:N}),Object(h.jsx)(a.a,{type:"primary",onClick:function(){!function(e){b?""!==e?u.a.post("http://aays.top:4000/board/insert",d.a.stringify({username:n,message:e})).then((function(){alert("\u7559\u8a00\u6210\u529f"),T((function(){k("")}))}),(function(e){alert("\u7559\u8a00\u5931\u8d25")})):alert("\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a"):alert("\u8bf7\u5148\u767b\u5f55")}(N)},className:"search-btn",block:!0,children:"\u53d1\u8868\u7559\u8a00"})]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("ul",{children:O.map((function(e,t){return Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"message-content",children:[Object(h.jsxs)("div",{className:"message-content-user",children:[e.username,"\uff1a"]}),Object(h.jsx)("div",{className:"message-content-text",children:e.message}),Object(h.jsxs)("div",{className:"message-love",children:[Object(h.jsx)("span",{onClick:function(){var t;t=e.id,""===w?(J("red"),u.a.get("http://aays.top:4000/board/updatelove?id=".concat(t,"&option=increment")).then((function(){T((function(){}))}),(function(e){alert("\u70b9\u8d5e\u5931\u8d25")}))):(J(""),u.a.get("http://aays.top:4000/board/updatelove?id=".concat(t,"&option=decrement")).then((function(e){T((function(){}))}),(function(e){alert("\u53d6\u6d88\u70b9\u8d5e\u5931\u8d25")})))},children:Object(h.jsx)(l.a,{twoToneColor:"#eb2f96",style:{backgroundColor:w}})})," ",e.love]})]})},t)}))})]})}}}]);
//# sourceMappingURL=12.2d9982cc.chunk.js.map