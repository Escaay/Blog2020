{"version":3,"sources":["pages/user/login/index.js","pages/user/register/index.js","pages/user/index.js"],"names":["Login","nameRef","React","useRef","passwordRef","className","ref","type","onClick","params","username","current","value","password","axios","post","qs","stringify","then","res","alert","data","msg","state","PubSub","publish","err","console","log","Register","rePasswordRef","User","path","component"],"mappings":"kSAKe,SAASA,IACpB,IAAMC,EAAQC,IAAMC,SACdC,EAAYF,IAAMC,SAgBxB,OACI,sBAAKE,UAAU,gBAAf,UACI,qBAAKA,UAAU,aAAf,0BACJ,sBAAKA,UAAU,aAAf,qCAAgC,uBAAOC,IAAKL,EAASM,KAAK,OAAOF,UAAU,kBACxE,sBAAKA,UAAU,iBAAf,+BAAmC,uBAAOC,IAAKF,EAAaG,KAAK,WAAWF,UAAU,kBACtF,sBAAKA,UAAU,WAAf,cAA2B,wBAAQG,QApBxB,WACd,IAAMC,EAAO,CAACC,SAAST,EAAQU,QAAQC,MAAMC,SAAST,EAAYO,QAAQC,OAC1EE,IAAMC,KAAK,kCAAkCC,IAAGC,UAAUR,IAASS,MAAK,SAAAC,GACpEC,MAAMD,EAAIE,KAAKC,KACK,YAAjBH,EAAIE,KAAKE,QACRC,IAAOC,QAAQ,YAAW,GAC1BD,IAAOC,QAAQ,WAAWN,EAAIE,KAAKX,UACnCT,EAAQU,QAAQC,MAAMR,EAAYO,QAAQC,MAAM,OAGxD,SAAAc,GACIC,QAAQC,IAAIF,OASc,gC,OCxBvB,SAASG,IACpB,IAAM5B,EAAQC,IAAMC,SACdC,EAAYF,IAAMC,SAClB2B,EAAc5B,IAAMC,SAkB1B,OACI,sBAAKE,UAAU,gBAAf,UACI,qBAAKA,UAAU,aAAf,0BACJ,sBAAKA,UAAU,aAAf,qCAAgC,uBAAOC,IAAKL,EAASM,KAAK,OAAOF,UAAU,kBACxE,sBAAKA,UAAU,iBAAf,+BAAmC,uBAAOC,IAAKF,EAAaG,KAAK,WAAWF,UAAU,kBACtF,sBAAKA,UAAU,oBAAf,2CAAwC,uBAAOC,IAAKwB,EAAevB,KAAK,WAAWF,UAAU,kBAC9F,sBAAKA,UAAU,WAAf,cAA2B,wBAAQG,QAvBrB,WAChB,IAAMC,EAAO,CAACC,SAAST,EAAQU,QAAQC,MAAMC,SAAST,EAAYO,QAAQC,OACxER,EAAYO,QAAQC,QAAQkB,EAAcnB,QAAQC,MAIpDE,IAAMC,KAAK,qCAAqCC,IAAGC,UAAUR,IAASS,MAC9E,SAAAC,GACIlB,EAAQU,QAAQC,MAAMR,EAAYO,QAAQC,MAAMkB,EAAcnB,QAAQC,MAAM,GAC5EQ,MAAMD,EAAIE,SAEd,SAAAK,GACIN,MAAM,4BACNO,QAAQC,IAAI,2BAAOF,MAVvBN,MAAM,uEAoB+B,gC,OCzBtB,SAASW,IACpB,OACI,sBAAK1B,UAAU,OAAf,UACR,cAAC,IAAD,CAAO2B,KAAK,cAAcC,UAAWjC,IACrC,cAAC,IAAD,CAAOgC,KAAK,iBAAiBC,UAAWJ,S","file":"static/js/7.dcf07a59.chunk.js","sourcesContent":["import React from 'react'\r\nimport './index.css'\r\nimport axios from 'axios'\r\nimport qs from 'querystring'\r\nimport PubSub from 'pubsub-js'\r\nexport default function Login() {\r\n    const nameRef=React.useRef()\r\n    const passwordRef=React.useRef()\r\n    let clickRegister=()=>{\r\n        const params={username:nameRef.current.value,password:passwordRef.current.value}\r\n        axios.post('http://aays.top:4000/user/login',qs.stringify(params)).then(res=>{\r\n            alert(res.data.msg)\r\n            if(res.data.state==='success'){\r\n                PubSub.publish('HasLogin',true)\r\n                PubSub.publish('UserName',res.data.username)\r\n                nameRef.current.value=passwordRef.current.value=''\r\n            }\r\n        },\r\n        err=>{\r\n            console.log(err);\r\n        }\r\n        )\r\n    }\r\n    return (\r\n        <div className='user-register'>\r\n            <div className='user-title'>登录</div>\r\n        <div className='name-input'>用户名：<input ref={nameRef} type='text' className='user-input'></input></div>\r\n           <div className='password-input'>密码：<input ref={passwordRef} type='password' className='user-input'></input></div>\r\n           <div className='user-btn'> <button onClick={clickRegister}>登录</button></div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from 'axios'\r\nimport React from 'react'\r\nimport qs from 'querystring'\r\nimport './index.css'\r\nexport default function Register() {\r\n    const nameRef=React.useRef()\r\n    const passwordRef=React.useRef()\r\n    const rePasswordRef=React.useRef()\r\n    const clickRegister=()=>{\r\n        const params={username:nameRef.current.value,password:passwordRef.current.value}\r\n       if(passwordRef.current.value!==rePasswordRef.current.value){\r\nalert('两次输入的密码不一致！')\r\nreturn \r\n       }\r\n        axios.post('http://aays.top:4000/user/register',qs.stringify(params)).then(\r\nres=>{\r\n    nameRef.current.value=passwordRef.current.value=rePasswordRef.current.value=''\r\n    alert(res.data)\r\n},\r\nerr=>{\r\n    alert('注册失败')\r\n    console.log('注册失败',err);\r\n}\r\n        )\r\n    }\r\n    return (\r\n        <div className='user-register'>\r\n            <div className='user-title'>注册</div>\r\n        <div className='name-input'>用户名：<input ref={nameRef} type='text' className='user-input'></input></div>\r\n           <div className='password-input'>密码：<input ref={passwordRef} type='password' className='user-input'></input></div>\r\n           <div className='re-Password-input'>重复密码：<input ref={rePasswordRef} type='password' className='user-input'></input></div>\r\n          <div className='user-btn'> <button onClick={clickRegister}>注册</button></div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Link,Route} from 'react-router-dom'\r\nimport Login from './login'\r\nimport Register from './register'\r\nimport {Menu} from 'antd'\r\nimport './index.css'\r\nexport default function User() {\r\n    return (\r\n        <div className='user'>\r\n<Route path='/user/login' component={Login}/>\r\n<Route path='/user/register' component={Register}/>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}