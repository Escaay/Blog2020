(this["webpackJsonpmy-blog"]=this["webpackJsonpmy-blog"]||[]).push([[6],{115:function(e,t,r){},116:function(e,t,r){},141:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m}));var n=r(0),s=r.n(n),a=r(5),c=(r(96),r(77)),u=r.n(c),o=r(78),i=r.n(o),l=r(8),p=r.n(l),d=r(1);function f(e){s.a.useEffect((function(){if(""!==document.cookie){var e=i.a.parse(document.cookie.split(";")[0]).username;t.current.value=e}}),[]);var t=s.a.useRef(),r=s.a.useRef();return Object(d.jsxs)("div",{className:"user-register",children:[Object(d.jsx)("div",{className:"user-title",children:"\u767b\u5f55"}),Object(d.jsxs)("div",{className:"name-input",children:["\u7528\u6237\u540d\uff1a",Object(d.jsx)("input",{ref:t,type:"text",className:"user-input"})]}),Object(d.jsxs)("div",{className:"password-input",children:["\u5bc6\u7801\uff1a",Object(d.jsx)("input",{ref:r,type:"password",className:"user-input"})]}),Object(d.jsxs)("div",{className:"user-btn",children:[" ",Object(d.jsx)("button",{onClick:function(){var n={username:t.current.value,password:r.current.value};""!==n.username?""!==n.password?u.a.post("http://aays.top:4000/user/login",i.a.stringify(n)).then((function(t){if(alert(t.data.msg),"success"===t.data.state){p.a.publish("HasLogin",!0),p.a.publish("UserName",t.data.username);var r=new Date;r.setTime(r.getTime()+36e5),document.cookie="username=".concat(n.username,"&token=").concat(t.data.token,";expires=").concat(r.toGMTString()),e.history.push("/home")}}),(function(e){console.log(e)})):alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"):alert("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a")},children:"\u767b\u5f55"})]})]})}r(115);function j(e){var t=s.a.useRef(),r=s.a.useRef(),n=s.a.useRef();return Object(d.jsxs)("div",{className:"user-register",children:[Object(d.jsx)("div",{className:"user-title",children:"\u6ce8\u518c"}),Object(d.jsxs)("div",{className:"name-input",children:["\u7528\u6237\u540d\uff1a",Object(d.jsx)("input",{ref:t,type:"text",className:"user-input"})]}),Object(d.jsxs)("div",{className:"password-input",children:["\u5bc6\u7801\uff1a",Object(d.jsx)("input",{ref:r,type:"password",className:"user-input"})]}),Object(d.jsxs)("div",{className:"re-Password-input",children:["\u91cd\u590d\u5bc6\u7801\uff1a",Object(d.jsx)("input",{ref:n,type:"password",className:"user-input"})]}),Object(d.jsxs)("div",{className:"user-btn",children:[" ",Object(d.jsx)("button",{onClick:function(){var s={username:t.current.value,password:r.current.value};r.current.value===n.current.value?""!==s.username?""!==s.password?u.a.post("http://aays.top:4000/user/register",i.a.stringify(s)).then((function(s){t.current.value=r.current.value=n.current.value="",alert(s.data),"\u6ce8\u518c\u6210\u529f"===s.data&&e.history.push("/user/login")}),(function(e){alert("\u6ce8\u518c\u5931\u8d25"),console.log("\u6ce8\u518c\u5931\u8d25",e)})):alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"):alert("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"):alert("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01")},children:"\u6ce8\u518c"})]})]})}r(116);function m(){return Object(d.jsxs)("div",{className:"user",children:[Object(d.jsx)(a.b,{path:"/user/login",component:f}),Object(d.jsx)(a.b,{path:"/user/register",component:j})]})}},78:function(e,t,r){"use strict";t.decode=t.parse=r(82),t.encode=t.stringify=r(83)},82:function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,a){t=t||"&",r=r||"=";var c={};if("string"!==typeof e||0===e.length)return c;var u=/\+/g;e=e.split(t);var o=1e3;a&&"number"===typeof a.maxKeys&&(o=a.maxKeys);var i=e.length;o>0&&i>o&&(i=o);for(var l=0;l<i;++l){var p,d,f,j,m=e[l].replace(u,"%20"),b=m.indexOf(r);b>=0?(p=m.substr(0,b),d=m.substr(b+1)):(p=m,d=""),f=decodeURIComponent(p),j=decodeURIComponent(d),n(c,f)?s(c[f])?c[f].push(j):c[f]=[c[f],j]:c[f]=j}return c};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},83:function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,u){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?a(c(e),(function(c){var u=encodeURIComponent(n(c))+r;return s(e[c])?a(e[c],(function(e){return u+encodeURIComponent(n(e))})).join(t):u+encodeURIComponent(n(e[c]))})).join(t):u?encodeURIComponent(n(u))+r+encodeURIComponent(n(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var c=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},96:function(e,t,r){}}]);
//# sourceMappingURL=6.15ffe49f.chunk.js.map