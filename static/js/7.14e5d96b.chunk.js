(this["webpackJsonpmy-blog"]=this["webpackJsonpmy-blog"]||[]).push([[7],{111:function(e,s,t){},112:function(e,s,t){},136:function(e,s,t){"use strict";t.r(s),t.d(s,"default",(function(){return b}));var a=t(0),n=t.n(a),r=t(5),c=(t(90),t(75)),u=t.n(c),i=t(76),o=t.n(i),l=t(10),p=t.n(l),d=t(1);function j(e){n.a.useEffect((function(){if(""!==document.cookie){var e=o.a.parse(document.cookie.split(";")[0]).username;s.current.value=e}}),[]);var s=n.a.useRef(),t=n.a.useRef();return Object(d.jsxs)("div",{className:"user-register",children:[Object(d.jsx)("div",{className:"user-title",children:"\u767b\u5f55"}),Object(d.jsxs)("div",{className:"name-input",children:["\u7528\u6237\u540d\uff1a",Object(d.jsx)("input",{ref:s,type:"text",className:"user-input"})]}),Object(d.jsxs)("div",{className:"password-input",children:["\u5bc6\u7801\uff1a",Object(d.jsx)("input",{ref:t,type:"password",className:"user-input"})]}),Object(d.jsxs)("div",{className:"user-btn",children:[" ",Object(d.jsx)("button",{onClick:function(){var a={username:s.current.value,password:t.current.value};""!==a.username?""!==a.password?u.a.post("http://aays.top:4000/user/login",o.a.stringify(a)).then((function(s){if(alert(s.data.msg),"success"===s.data.state){p.a.publish("HasLogin",!0),p.a.publish("UserName",s.data.username);var t=new Date;t.setTime(t.getTime()+36e5),document.cookie="username=".concat(a.username,"&token=").concat(s.data.token,";expires=").concat(t.toGMTString()),e.history.push("/home")}}),(function(e){console.log(e)})):alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"):alert("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a")},children:"\u767b\u5f55"})]})]})}t(111);function m(e){var s=n.a.useRef(),t=n.a.useRef(),a=n.a.useRef();return Object(d.jsxs)("div",{className:"user-register",children:[Object(d.jsx)("div",{className:"user-title",children:"\u6ce8\u518c"}),Object(d.jsxs)("div",{className:"name-input",children:["\u7528\u6237\u540d\uff1a",Object(d.jsx)("input",{ref:s,type:"text",className:"user-input"})]}),Object(d.jsxs)("div",{className:"password-input",children:["\u5bc6\u7801\uff1a",Object(d.jsx)("input",{ref:t,type:"password",className:"user-input"})]}),Object(d.jsxs)("div",{className:"re-Password-input",children:["\u91cd\u590d\u5bc6\u7801\uff1a",Object(d.jsx)("input",{ref:a,type:"password",className:"user-input"})]}),Object(d.jsxs)("div",{className:"user-btn",children:[" ",Object(d.jsx)("button",{onClick:function(){var n={username:s.current.value,password:t.current.value};t.current.value===a.current.value?""!==n.username?""!==n.password?u.a.post("http://aays.top:4000/user/register",o.a.stringify(n)).then((function(n){s.current.value=t.current.value=a.current.value="",alert(n.data),"\u6ce8\u518c\u6210\u529f"===n.data&&e.history.push("/user/login")}),(function(e){alert("\u6ce8\u518c\u5931\u8d25"),console.log("\u6ce8\u518c\u5931\u8d25",e)})):alert("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"):alert("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"):alert("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01")},children:"\u6ce8\u518c"})]})]})}t(112);function b(){return Object(d.jsxs)("div",{className:"user",children:[Object(d.jsx)(r.b,{path:"/user/login",component:j}),Object(d.jsx)(r.b,{path:"/user/register",component:m})]})}},90:function(e,s,t){}}]);
//# sourceMappingURL=7.14e5d96b.chunk.js.map